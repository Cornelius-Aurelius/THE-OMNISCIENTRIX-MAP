<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<title>Omniscientrix Universe Map vΩ.∞ MASTER — Hybrid Quantum AI Engine</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* ============================================================
   OMNISCIENTRIX UNIVERSE MAP vΩ.∞ MASTER EDITION
   THE MOST ADVANCED VERSION EVER CREATED
   — Neon Blue Quantum Theme —
============================================================ */

html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #000;
  font-family: Arial, sans-serif;
  color: #9ee7ff;
  user-select: none;
}

/* ---------------- MOBILE MENU BUTTON ---------------- */
#toggleBtn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #003355dd;
  color: #9ee7ff;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid #00aaff88;
  cursor: pointer;
  font-size: 16px;
  display: none;
  z-index: 999;
}

/* ---------------- CONTROL PANEL ---------------- */
#uiPanel {
  position: fixed;
  top: 20px;
  right: 20px;
  width: 320px;
  padding: 18px;
  background: rgba(0,18,35,0.65);
  border: 1px solid #00caff77;
  border-radius: 16px;
  backdrop-filter: blur(10px);
  color: #b9f2ff;
  box-shadow: 0 0 12px #0099ff55;
  z-index: 998;
  transition: transform .35s ease;
}

#uiPanel h1 {
  margin: 0 0 14px;
  font-size: 22px;
  color: #7eeaff;
  text-shadow: 0 0 10px #0099ccaa;
}

#uiPanel label {
  font-size: 14px;
  margin-bottom: 6px;
  display: block;
}

#uiPanel select,
#uiPanel input[type=range],
#uiPanel input[type=text],
#uiPanel button,
#uiPanel input[type=checkbox] {
  width: 100%;
  margin-bottom: 10px;
  padding: 6px;
  background: #001c2a;
  border: 1px solid #00caff55;
  border-radius: 8px;
  color: #aeefff;
}

#uiPanel button {
  cursor: pointer;
  background: #002a44;
  border: 1px solid #0099cc;
}
#uiPanel button:hover {
  background: #004466;
}

/* ---------------- CANVAS ---------------- */
canvas {
  display: block;
}

/* ---------------- SYSTEM PANEL ---------------- */
#systemPanel {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 280px;
  padding: 16px;
  background: rgba(0,15,30,0.8);
  border: 1px solid #0099cc88;
  border-radius: 12px;
  backdrop-filter: blur(10px);
  box-shadow: 0 0 14px #00aaff44;
  z-index: 900;
  display: none;
  color: #9ee7ff;
}
#systemPanel h2 {
  margin-top: 0;
  font-size: 20px;
  color: #88e1ff;
}
#systemPanel .closeBtn {
  text-align: right;
  cursor: pointer;
  color: #66d0ff;
}

/* ---------------- MINI-MAP ---------------- */
#miniMap {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 180px;
  height: 180px;
  background: rgba(0,20,40,0.7);
  border: 1px solid #0099cc88;
  border-radius: 12px;
  box-shadow: 0 0 10px #00aaff33;
  backdrop-filter: blur(8px);
  z-index: 900;
}
#miniMap canvas {
  width: 100%;
  height: 100%;
  border-radius: 12px;
}

/* ---------------- FOOTER ---------------- */
#footer {
  position: fixed;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  color: #00baff;
  text-align: center;
}
#footer a {
  color: #66e0ff;
  text-decoration: none;
  text-shadow: 0 0 4px #0088cc;
}

/* ---------------- MOBILE ---------------- */
@media(max-width: 920px){
  #toggleBtn { display: block; }
  #uiPanel { transform: translateX(140%); }
  #uiPanel.open { transform: translateX(0); }
}
</style>
</head>

<body>

<!-- MOBILE MENU -->
<div id="toggleBtn">Ω MENU</div>

<!-- CONTROL PANEL -->
<div id="uiPanel">
  <h1>Ω.∞ CONTROL PANEL</h1>

  <label>Field Mode</label>
  <select id="modeSel">
    <option value="blend">Ω-Quantum Blend</option>
    <option value="life">Ω-Life Resonance</option>
    <option value="curv">Ω-Curvature Field</option>
    <option value="aware">Awareness Tensor</option>
    <option value="flux">Information Flux</option>
    <option value="ghz">Quantum GHZ</option>
    <option value="horizon">Entropy Horizon</option>
    <option value="collapse">Collapse–Diffusion</option>
    <option value="star">Real Star Spectra</option>
    <option value="ai">Ω-AI Life Prediction</option>
    <option value="dyson">Ω-Dyson Technosignature</option>
    <option value="constel">Ω-Constellation Mode</option>
  </select>

  <label>Ω-Intensity</label>
  <input type="range" id="omegaInt" min="0" max="1" step="0.01" value="0.55">

  <label>Timewarp</label>
  <input type="range" id="timeWarp" min="0.1" max="5" step="0.1" value="1">

  <label>AstroCamera</label>
  <input type="checkbox" id="astroCam">

  <label>Draw Constellations</label>
  <input type="checkbox" id="drawConst" checked>

  <label>Find Star (temp/class)</label>
  <input type="text" id="starSearch" placeholder="e.g. 6000K or G">

  <button id="starSearchBtn">Search</button>
  <button id="saveConst">Save Constellation</button>
  <button id="loadConst">Load Saved</button>
  <button id="clearConst">Clear</button>
</div>

<!-- SYSTEM PANEL -->
<div id="systemPanel">
  <div class="closeBtn">✕ Close</div>
  <h2 id="sysName"></h2>
  <div id="sysData"></div>
</div>

<!-- MINI MAP -->
<div id="miniMap">
  <canvas id="miniMapCanvas"></canvas>
</div>

<!-- MAIN CANVAS -->
<canvas id="universe"></canvas>

<!-- FOOTER -->
<div id="footer">
© 2025 Cornelius Aurelius · 
<a href="https://corneliusaurelius.com/">Site</a> ·
<a href="https://medium.com/@138licensing">Medium</a> ·
<a href="mailto:138licensing@gmail.com">Email</a> ·
<a href="https://zenodo.org/records/17362534">Zenodo</a> ·
<a href="https://www.instagram.com/cornelius_aurelius_/">Instagram</a> ·
<a href="https://www.linkedin.com/in/cornelius-aurelius-404805325/recent-activity/all/">LinkedIn</a>
</div>
<script>
/* ============================================================
   PART 2 — CANVAS ENGINE + CAMERA + FOUNDATIONAL GALAXY SYSTEM
   (Includes Ω-Speed, Ω-Motion, multi-harmonic spiral generation,
    deep-field background, dust lanes, bulge, and base stars)
============================================================ */

/* ---------------- CANVAS SETUP ---------------- */
const c = document.getElementById("universe");
let ctx = c.getContext("2d", { alpha: false });

let W, H;
function resize(){
  W = c.width = innerWidth;
  H = c.height = innerHeight;
}
resize();
addEventListener("resize", resize);

/* ---------------- CAMERA SYSTEM ---------------- */
let cam = { x:0, y:0, z:1600, drag:false, lx:0, ly:0 };

c.addEventListener("mousedown", e=>{
  cam.drag = true;
  cam.lx = e.clientX;
  cam.ly = e.clientY;
});
addEventListener("mouseup", ()=> cam.drag=false);

c.addEventListener("mousemove", e=>{
  if (cam.drag){
    cam.x -= (e.clientX - cam.lx) * 1.15;
    cam.y -= (e.clientY - cam.ly) * 1.15;
    cam.lx = e.clientX;
    cam.ly = e.clientY;
  }
});

/* Zoom */
c.addEventListener("wheel", e=>{
  cam.z += e.deltaY*0.5;
  cam.z = Math.max(200, Math.min(6000, cam.z));
});

/* Touch Controls */
let touchId=null;
c.addEventListener("touchstart", e=>{
  if (e.touches.length===1){
    touchId = e.touches[0].identifier;
    cam.drag = true;
    cam.lx = e.touches[0].clientX;
    cam.ly = e.touches[0].clientY;
  }
});
c.addEventListener("touchmove", e=>{
  for (const t of e.touches){
    if (t.identifier===touchId && cam.drag){
      cam.x -= (t.clientX - cam.lx) * 1.15;
      cam.y -= (t.clientY - cam.ly) * 1.15;
      cam.lx = t.clientX;
      cam.ly = t.clientY;
    }
  }
});
c.addEventListener("touchend", ()=>{ cam.drag=false; touchId=null; });

/* ---------------- CAMERA ROTATION (SHIFT + DRAG) ---------------- */
let rotation = 0;
c.addEventListener("mousemove", e=>{
  if (cam.drag && e.shiftKey){
    rotation += (e.clientX - cam.lx)*0.0025;
    cam.lx = e.clientX;
  }
});

/* ============================================================
   Ω-SPEED KERNEL — adaptive performance
============================================================ */
let lastTime = performance.now();
let smoothing = 0.92;
window.OmegaSpeed = {
  dt: 0.016,
  speedFactor: 1,
  update(){
    const now = performance.now();
    const elapsed = (now - lastTime)/1000;
    lastTime = now;
    this.dt = this.dt*smoothing + elapsed*(1-smoothing);
    this.speedFactor = this.dt > 0.030 ? 0.70 :
                       this.dt > 0.022 ? 0.87 : 1.00;
  }
};

/* ============================================================
   Ω-MOTION — camera inertia
============================================================ */
window.OmegaMotion = {
  vx:0, vy:0, damping:0.90,
  apply(cam){
    cam.x -= this.vx * OmegaSpeed.speedFactor;
    cam.y -= this.vy * OmegaSpeed.speedFactor;
    this.vx *= this.damping;
    this.vy *= this.damping;
  }
};

/* ============================================================
   ADVANCED GALAXY STRUCTURE (multi-harmonic spirals)
============================================================ */
function spiralHarmonics(x,y){
  const r = Math.sqrt(x*x+y*y);
  const t = Math.atan2(y,x);
  const base = Math.cos(4*(t - Math.log(r+1)*0.23));
  const h2 = Math.cos(6*(t - Math.log(r+1)*0.18));
  const h3 = Math.cos(3*(t - Math.log(r+1)*0.27));
  return Math.max(0, base*0.65 + h2*0.25 + h3*0.10);
}

/* Dust lane absorption */
function dustLane(x,y){
  const yAbs = Math.abs(y);
  return Math.exp(-(yAbs*yAbs)/8000000);
}

/* Central bulge */
function bulgeWeight(x,y){
  const r = Math.sqrt(x*x + y*y);
  return Math.exp(-(r*r)/50000000);
}

/* Disk thickness */
function diskDensity(z){
  return Math.exp(-(z*z)/40000000)*0.85 +
         Math.exp(-(z*z)/140000000)*0.15;
}

/* ============================================================
   STAR GENERATION (Ω.∞ PRIME)
============================================================ */
let stars = [];
const STAR_COUNT = 42000;

for (let i=0;i<STAR_COUNT;i++){
  let r = (Math.random()**0.52)*24000;
  let t = Math.random()*Math.PI*2;

  let x = r*Math.cos(t);
  let y = r*Math.sin(t);

  let armBoost = spiralHarmonics(x,y);
  if (Math.random() < armBoost*0.75){
    x *= 1+(Math.random()-0.5)*0.10;
    y *= 1+(Math.random()-0.5)*0.10;
  }

  let z = 200 + Math.random()*9000;
  if (Math.random()<0.15) z *= 1+(Math.random()*0.5);

  stars.push({
    x,y,z,
    temp: 2500+Math.random()*20000,
    aware: Math.random(),
    flux: Math.random(),
    alphaMod: 1 - dustLane(x,y)*0.25,
    bulge: bulgeWeight(x,y)
  });
}

/* ============================================================
   DEEP SPACE BACKGROUND STARS
============================================================ */
window.deepStars = [];
const DEEP_COUNT = 30000;

for (let i=0;i<DEEP_COUNT;i++){
  deepStars.push({
    x:(Math.random()-0.5)*150000,
    y:(Math.random()-0.5)*150000,
    z:9000+Math.random()*30000,
    a:0.05+Math.random()*0.10
  });
}

/* Deep star renderer */
function drawDeepStars(){
  for (const s of deepStars){
    let d = s.z / cam.z;
    if (d>12) continue;
    let X = W/2 + (s.x-cam.x)*0.7/d;
    let Y = H/2 + (s.y-cam.y)*0.7/d;
    ctx.fillStyle = `rgba(255,255,255,${s.a*0.2})`;
    ctx.fillRect(X,Y,1,1);
  }
}

/* Galaxy density gradient */
function drawGalaxyDensity(){
  let g = ctx.createRadialGradient(W/2,H/2,0,W/2,H/2,W*0.8);
  g.addColorStop(0, "rgba(255,255,255,0.02)");
  g.addColorStop(0.4,"rgba(255,255,255,0.01)");
  g.addColorStop(1, "rgba(0,0,0,0)");
  ctx.fillStyle = g;
  ctx.fillRect(0,0,W,H);
}

/* Bulge bloom */
function drawBulge(){
  let g = ctx.createRadialGradient(W/2,H/2,30,W/2,H/2,400);
  g.addColorStop(0,"rgba(255,230,180,0.22)");
  g.addColorStop(1,"rgba(0,0,0,0)");
  ctx.fillStyle = g;
  ctx.fillRect(0,0,W,H);
}

/* ============================================================
   BLACKBODY SPECTRAL SHADER (real star colour)
============================================================ */
function spectralColor(T){
  T = Math.max(1500,Math.min(40000,T))/1000;
  let r,g,b;

  if (T<=6.6) r=255;
  else r=329.7*Math.pow(T-6.6,-0.1332), r=Math.min(255,Math.max(0,r));

  if (T<=6.6){
    g=99.47*Math.log(T)-161.12;
  } else {
    g=288.12*Math.pow(T-6.6,-0.0755);
  }
  g=Math.min(255,Math.max(0,g));

  if (T>=6.6) b=255;
  else if (T<=1) b=0;
  else {
    b=138.52*Math.log(T-1)-305.04;
    b=Math.min(255,Math.max(0,b));
  }

  return `rgba(${r},${g},${b},0.95)`;
}
